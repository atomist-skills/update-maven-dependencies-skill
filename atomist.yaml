skill:
  description: Automatically update dependencies based on your own policy
  category:
    - DEPENDENCIES
    - DEV_EX
  package:
    use: atomist/package-cljs-skill
  repository: 'https://github.com/atomist-skills/update-maven-dependencies'
  license: Apache-2.0
  homepage: 'https://github.com/atomist-skills/update-maven-dependencies'
  name: atomist/update-maven-dependencies
  long_description: |
    Track all versions of maven pom.xml dependencies and allow users to set
    cross repo targets for dependency versions.
  icon: >-
    https://d1q6f0aelx0por.cloudfront.net/product-logos/b14d466e-356f-4b00-bc4e-af5e8284a1bd-maven.png
  title: Update Maven Dependencies
  author: Atomist
  dispatch: single
  runtime:
    name: nodejs10
    entry_point: eventhandler
    memory: 512
    timeout: 60
commands:
  - name: ShowMavenDependencies
    description: summary of the npm dependencies
    pattern: ^mvn fingerprints.*$
  - name: UpdateMavenDependency
    description: update one dependency
    pattern: ^mvn update.*$
  - name: SyncMavenDependency
    description: sync dependencies for one Repository
    pattern: ^mvn sync.*$
parameters:
  - singleChoice:
      description: >-
        Choose a policy for how target dependencies should be discovered by this
        skill
      displayName: Target Policy
      name: policy
      required: true
      options:
        - description: Use the latest semver version
          text: latest semver used
          value: latestSemVerUsed
        - description: Use the set of maven dependencies configured manually in this Skill
          text: manual
          value: manualConfiguration
  - stringArray:
      description: >
        Required for `manualConfiguration` policy.  Coordinates should be in the
        form `groupId:artifactId:packaging:version`
      displayName: Maven Coordinates
      name: coordinates
      required: false
  - stringArray:
      description: |
        Required for `latestSemVerUsed` policy
      displayName: Policy Configuration
      name: artifacts
      required: false
  - repoFilter:
      description: The set of Repositories for this rule.
      displayName: Repository Scope
      name: scope
      required: true
